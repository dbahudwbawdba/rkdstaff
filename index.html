<script>
document.addEventListener("DOMContentLoaded", function () {

    /* --- 1. NAVIGATION SYSTEM --- */
    function nav(id) {
        const current = document.querySelector('.view.active');
        const target = document.getElementById(id);
        const buttons = document.querySelectorAll('.nav-btn');

        if (!target) return;

        if (current) {
            current.classList.remove('active');
        }

        target.classList.add('active');

        buttons.forEach(b => {
            b.classList.remove('active');
            if (b.id === `btn-${id}`) b.classList.add('active');
        });

        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    window.nav = nav;

    window.addEventListener('scroll', () => {
        const navBar = document.getElementById('navbar');
        if (!navBar) return;
        if (window.scrollY > 50) navBar.classList.add('scrolled');
        else navBar.classList.remove('scrolled');
    });

    /* --- 2. LAW ACCORDION ENGINE --- */
    const laws = [
        { art: 1, t: "Staff Misleiding", d: "Liegen tegen staff of niet luisteren naar staff.", p: "First: 3 dagen ban" },
        { art: 2, t: "DDoS", d: "DDoS-related stuff of dreigementen.", p: "BLACKLIST" },
        { art: 3, t: "Doxing", d: "Het lekken van IP's en andere privÃ©gegevens van spelers.", p: "BLACKLIST" },
        { art: 4, t: "Cheating", d: "Gebruik van externe software, hacks of unfair advantages.", p: "1st: 14d | 2nd: 1m | 3rd: Perm Ban" },
        { art: 5, t: "Exploiting", d: "Misbruik maken of het niet melden van een bug/glitch.", p: "1st: 14d | 2nd: 1m" },
        { art: 6, t: "Reclame", d: "Reclame maken voor andere Minecraft servers of diensten.", p: "First: 7 dagen mute" },
        { art: 7, t: "Ban Evading", d: "Het omzeilen van een ban met een ander account.", p: "BLACKLIST" },
        { art: 8, t: "Trapping", d: "Het lokken of doden van spelers in een ontworpen trap.", p: "1st: 3d | 2nd: 7d" },
        { art: 9, t: "Grieving", d: "Het moedwillig slopen van andermans bouwwerken.", p: "7d - 1m" },
        { art: 10, t: "Kanaal Misbruik", d: "Non-Roleplay of HelpOp misbruik.", p: "6 uur mute" },
        { art: 11, t: "Illegale Aanval", d: "Aanvallen zonder geldige reden.", p: "3d - 14d" },
        { art: 12, t: "PvP Loggen", d: "Uitloggen tijdens PvP.", p: "3d - 7d" },
        { art: 13, t: "Sabotage", d: "Cobwebs/lava in ijstunnel.", p: "1d - 3d" },
        { art: 14, t: "Inbouwen", d: "Inbouwen tijdens gevechten.", p: "1d - 3d" },
        { art: 15, t: "Item Transfer", d: "Spullen overzetten tussen accounts.", p: "14d + Clear" },
        { art: 16, t: "Alten", d: "Alt in ander kingdom.", p: "PERM" },
        { art: 17, t: "Toxic Gedrag", d: "Ernstig toxic gedrag.", p: "12u - 24u mute" }
    ];

    const lawBox = document.getElementById('law-engine');
    if (lawBox) {
        laws.forEach(l => {
            const artEl = document.createElement('div');
            artEl.className = 'article';
            artEl.innerHTML = `
                <div class="article-head" onclick="this.parentElement.classList.toggle('open')">
                    <h4>Art. ${l.art} - ${l.t}</h4>
                    <div class="article-toggle"></div>
                </div>
                <div class="article-body">
                    <p class="art-desc">${l.d}</p>
                    <div class="art-punishment">${l.p}</div>
                </div>
            `;
            lawBox.appendChild(artEl);
        });
    }

    /* --- 3. STAFF ENGINE --- */
    const teamData = [
        { 
            r: "Beheer", 
            c: "var(--rank-beheer)", 
            rgb: "255, 71, 87", 
            m: [
                {n:"Binnenlander", p:"Beheer"},
                {n:"BjornNL", p:"Beheer"}
            ] 
        },
        { 
            r: "Admin", 
            c: "var(--rank-admin)", 
            rgb: "125, 95, 255", 
            m: [
                {n:"Penpijn", p:"Admin"},
                {n:"Shaykuhh", p:"Admin"}
            ] 
        },
        { 
            r: "Senior Staff", 
            c: "var(--rank-senior)", 
            rgb: "255, 175, 64", 
            m: [
                {n:"Noootjee", p:"Senior Staff"},
                {n:"Peanerd", p:"Senior Staff"},
                {n:"Noevig", p:"Senior Staff"},
                {n:"ItssAyden", p:"Senior Staff"}
            ] 
        },
        { 
            r: "Staff", 
            c: "var(--rank-staff)", 
            rgb: "58, 227, 116", 
            m: [
                {n:"ClasherMike", p:"Staff"},
                {n:"Odsko", p:"Staff"},
                {n:"AnneWannn", p:"Staff"},
                {n:"ItssGirav", p:"Staff"},
                {n:"KoningBitterbal", p:"Staff"}
            ] 
        }
    ];

    const teamBox = document.getElementById('team-engine');
    if (teamBox) {
        teamData.forEach(group => {
            const section = document.createElement('div');
            section.className = 'staff-section';
            section.innerHTML = `
                <h3 class="staff-title" style="color:${group.c}">${group.r}</h3>
                <div class="skin-flex">
                    ${group.m.map(member => `
                        <div class="skin-card" style="--r-color:${group.c}; --r-rgb:${group.rgb}">
                            <img src="https://mc-heads.net/body/${member.n}/right" alt="${member.n}">
                            <h3>${member.n}</h3>
                            <p style="color:${group.c}">${member.p}</p>
                        </div>
                    `).join('')}
                </div>
            `;
            teamBox.appendChild(section);
        });
    }

});
</script>
